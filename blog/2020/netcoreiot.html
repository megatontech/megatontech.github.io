<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 15.1.0.0" /><title></title></head><body><div><p style="font-size:12pt; line-height:115%; margin:0pt 0pt 10pt; text-align:center"><a name="_166-1571036823655"></a><span style="color:#b8b8b8; font-family:'Times New Roman'; font-size:12pt">※</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_696-1571103095664"></a><span style="background-color:#808080; color:#ffffff; font-family:'Times New Roman'; font-size:11pt"> 项目名 </span><span style="color:#b8b8b8; font-family:'Times New Roman'; font-size:11pt"> </span><span style="color:#808080; font-family:'Times New Roman'; font-size:11pt">PROJ TITLE</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-align:center"><a name="_594-1571103095664"></a><span style="font-family:'Times New Roman'; font-size:11pt">ASP.NET CORE IOT</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_687-1571103095664"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_831-1571103095664"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_738-1571103095664"></a><span style="background-color:#808080; color:#ffffff; font-family:'Times New Roman'; font-size:11pt">基本信息</span><span style="color:#808080; font-family:'Times New Roman'; font-size:11pt"> BASICS</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_475-1571103095664"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">部署：取代原有PHP项目，可跨平台部署</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_299-1571103095665"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">需求：与设备通过socket交互，与前端api和websocket交互，展示实时设备数据和当天温湿度曲线，发短信打电话报警</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_094-1571103095665"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">周期：一个月</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_639-1571103095665"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_710-1571103095665"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_940-1571103095665"></a><span style="background-color:#808080; color:#ffffff; font-family:'Times New Roman'; font-size:11pt">开发心得</span><span style="color:#808080; font-family:'Times New Roman'; font-size:11pt"> LEARNINGS</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_978-1571103095665"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"> 使用supersocket来封装底层复杂的socket操作</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_919-1597215192261"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"> 使用dapper封装数据库操作</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_480-1571103095665"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"> 使用缓存减少数据库压力</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_060-1571103095665"></a><span style="font-family:'Times New Roman'; font-size:11pt"> 部署时用iis做反代，服务器安装core bundle</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_549-1597214942110"></a><span style="font-family:'Times New Roman'; font-size:11pt"> phpstudy快速安装redis和mysql</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_992-1597214968412"></a><span style="font-family:'Times New Roman'; font-size:11pt"> 使用测试工具模拟设备数据交互</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_989-1597214993102"></a><span style="font-family:'Times New Roman'; font-size:11pt"> 语音回调部分不认post的text，需要单独做mime映射</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_053-1571103095665"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_950-1571103095665"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_155-1571103095665"></a><span style="background-color:#808080; color:#ffffff; font-family:'Times New Roman'; font-size:11pt">重点摘录</span><span style="color:#808080; font-family:'Times New Roman'; font-size:11pt"> NOTES</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_320-1571103095665"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"> 期间遇到了内存暴增情况，使用dump无果，vs2019无法打开内存分析文件</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_890-1571103095665"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"> 期间发现了端口无法连接情况</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_898-1571103095665"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt"> supersocket的core版不是很多参考</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_644-1597215071493"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">使用了core的后台服务承载监听端口的服务，iis需要做特殊处理</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_675-1597215111481"></a><span style="color:#393939; font-family:'Times New Roman'; font-size:11pt">2008R2的服务器不支持websocket和iis8</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt; text-indent:0pt"><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0; </span><a name="_365-1597215129804"></a><span style="font-family:'Times New Roman'; font-size:11pt">调用微信扫码无法用开发者工具</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_170-1571103095665"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_784-1571103095665"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p><p style="font-size:11pt; line-height:115%; margin:0pt 0pt 10pt"><a name="_381-1573143132111"></a><span style="font-family:'Times New Roman'; font-size:11pt">&#xa0;</span></p></div><div class="cnzz" style="display: none;">
	        <script src="https://s23.cnzz.com/z_stat.php?id=1277655852&web_id=1277655852" language="JavaScript"></script>
            </div>
            <div class="docpe" style="position: absolute;color: white;margin-left:-450;">
            <a target="_blank" href="http://www.docpe.com">档铺网——在线文档免费处理</a>
            </div>
            </body></html>